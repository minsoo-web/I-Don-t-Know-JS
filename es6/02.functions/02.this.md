<h1 align="center">this</h1>

<p align="center">
    <img width="380"  alt="ECMAscript" src="../../images/es6/thisisneverthat.jpg" />
</p>

_ì´ë¯¸ì§€ ì¶œì²˜: [ê½ƒê½ƒì´ë‹˜](https://notefolio.net/flower_arrangement)_

## ğŸš€ Intro

ì´ ë¬¸ì„œëŠ” í•¨ìˆ˜ì˜ this í‚¤ì›Œë“œì— ë§ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤.

## index

- [ì •ì˜](#mdn-says)
- [thisì˜ ê°’](#thisì˜-ê°’)
- [ì •ë¦¬](#ì •ë¦¬)
- [ì°¸ê³  ë¬¸í—Œ](#ì°¸ê³ -ë¬¸í—Œ)

[es6 functions ë¦¬ìŠ¤íŠ¸ë¡œ ê°€ê¸°](https://github.com/Minsoo-web/es_features/tree/master/es6#functions)

### MDN Says

JavaScriptì—ì„œ í•¨ìˆ˜ì˜ `this` í‚¤ì›Œë“œëŠ” ë‹¤ë¥¸ ì–¸ì–´ì™€ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤.  
ë˜í•œ ì—„ê²© ëª¨ë“œì™€ ë¹„ì—„ê²© ëª¨ë“œì—ì„œë„ ì¼ë¶€ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

[ì—„ê²© ëª¨ë“œ?](https://github.com/Minsoo-web/es_features/tree/master/es5#use-strict)

**ëŒ€ë¶€ë¶„ì˜ ê²½ìš° `this`ì˜ ê°’ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë°©ë²•ì— ì˜í•´ ê²°ì •ë©ë‹ˆë‹¤.**  
ì‹¤í–‰ì¤‘ì—ëŠ” í• ë‹¹ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ê³  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ES5ëŠ” í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í˜¸ì¶œí–‡ëŠ”ì§€ ìƒê´€í•˜ì§€ ì•Šê³  this ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” bind ë©”ì†Œë“œë¥¼ ë„ì…í–ˆê³ ,  
ES6ëŠ” ìŠ¤ìŠ¤ë¡œì˜ `this` ë°”ì¸ë”©ì„ ì œê³µí•˜ì§€ ì•ŠëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

[í™”ì‚´í‘œ í•¨ìˆ˜?](https://github.com/Minsoo-web/es_features/blob/master/es6/02.functions/01.arrow_function.md)  
[bind?](https://github.com/Minsoo-web/es_features/tree/master/es5#functionprototypebind)

[ëª©ì°¨](#index)

---

### thisì˜ ê°’

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(global, function ë˜ëŠ” eval)ì˜ í”„ë¡œí¼í‹°ëŠ” ë¹„ì—„ê²© ëª¨ë“œì—ì„œ í•­ìƒ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ë©°,  
ì—„ê²© ëª¨ë“œì—ì„œëŠ” ì–´ë– í•œ ê°’ì´ë“  ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸?](https://github.com/Minsoo-web/es_features/blob/master/etc/execution_context.md)

#### ì „ì—­ ë¬¸ë§¥

ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥ì—ì„œ `this`ëŠ” ì—„ê²© ëª¨ë“œ ì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.

```JavaScript
// node
console.log(this === global); // true
// ë¸Œë¼ìš°ì €
// console.log(this === window); // true

let a = 37;
console.log(global.a); 37

this.b = "MDN";
console.log(global.b); // "MDN"
console.log(b); // "MDN"
```

#### í•¨ìˆ˜ ë¬¸ë§¥

í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `this`ì˜ ê°’ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë°©ë²•ì— ì˜í•´ ì¢Œìš°ë©ë‹ˆë‹¤.

##### ë‹¨ìˆœ í˜¸ì¶œ

```JavaScript
function f1() {
    return this;
}
// ì „ì—­ì—ì„œ í˜¸ì¶œ
f1(); // global
```

**ì—„ê²© ëª¨ë“œ**ì—ì„œ thisì˜ ê°’ì€ ì‹¤í–‰ ë¬¸ë§¥ì— ì§„ì…í•˜ë©° ì„¤ì •ë˜ëŠ” ê°’ì„ ìœ ì§€í•˜ê²Œ ë©ë‹ˆë‹¤.

```JavaScript
// "use strict"; ì „ì—­ìœ¼ë¡œ í•´ë„ ê°™ìŠµë‹ˆë‹¤.

function f2() {
    "use strict";
    return this;
}

f2() === undefined; // true
```

âš ï¸ ì—¬ê¸°ì„œ `f2` ë¥¼ ê°ì²´ì˜ ë©”ì„œë“œë‚˜ ì†ì„±ìœ¼ë¡œì„œê°€(ì˜ˆ: `window.f2()`) ì•„ë‹Œ ì§ì ‘ í˜¸ì¶œí–ˆê¸° ë•Œë¬¸ì— `this`ëŠ” `undefined`ì…ë‹ˆë‹¤.

---

##### í™”ì‚´í‘œ í•¨ìˆ˜

[í™”ì‚´í‘œ í•¨ìˆ˜?](https://github.com/Minsoo-web/es_features/blob/master/es6/02.functions/01.arrow_function.md)

í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ `this`ëŠ” ìì‹ ì„ ê°ì‹¼ ì •ì  ë²”ìœ„(lexical context)ì…ë‹ˆë‹¤.
ì „ì—­ ì½”ë“œì—ì„œëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.

```JavaScript
// ì „ì—­ í˜¸ì¶œ
let globalObject = this;
let foo = (()=> this);
console.log(foo() === globalObject); // true

//ê°ì²´ í˜¸ì¶œ
let obj = { func: foo };
console.log(obj.func() === globalObject ); // true
```

ì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í•˜ë“  `foo`ì˜ `this`ëŠ” ìƒì„± ì‹œì ì˜ ê²ƒìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

---

##### ê°ì²´ì˜ ë©”ì†Œë“œ

í•¨ìˆ˜ë¥¼ ì–´ë–¤ ê°ì²´ì˜ ë©”ì†Œë“œë¡œ í˜¸ì¶œí•˜ë©´ `this`ì˜ ê°’ì€ ê·¸ ê°ì²´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```JavaScript
let o = {
    prop: 37,
    f: function() {
        return this.prop;
    }
};

console.log(o.f()); // 37
```

---

##### ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì—ì„œì˜ this

ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ì–´ë”˜ê°€ì— ì •ì˜í•œ ë©”ì†Œë“œë„ ë§ˆì°¬ê°€ì§€ë¡œ  
ë©”ì„œë“œê°€ ì–´ë–¤ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìœ„ì— ì¡´ì¬í•˜ë©´, `this`ì˜ ê°’ì€ ê·¸ ê°ì²´ê°€ ê·¸ ë©”ì†Œë“œë¥¼ ê°€ì§„ ê²ƒ ë§ˆëƒ¥ ì„¤ì •ë©ë‹ˆë‹¤.

```JavaScript
var o = {
    f: function() { return this.a + this.b; }
};

var p = Object.create(o);
p.a = 1;
p.b = 2;

console.log(p.f()); // 5
```

[ëª©ì°¨](#index)

---

### ì •ë¦¬

í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ê°€ì§€ íŒ¨í„´ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

- ì „ì—­ ë¬¸ë§¥ ì‹¤í–‰
- ê°ì²´ì˜ ë©”ì†Œë“œë¡œì„œì˜ ì‹¤í–‰
- ìƒì„±ì í•¨ìˆ˜ë¡œì„œì˜ ì‹¤í–‰
- í™”ì‚´í‘œ í•¨ìˆ˜

ê·¸ë¦¬ê³  `this` ì˜ ê°’ì€ ê·¸ í•¨ìˆ˜ê°€ ì–´ë””ì—ì„œ ì‹¤í–‰ì´ ë˜ì—ˆëŠ”ì§€ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

```JavaScript

// ì „ì—­ ì‹¤í–‰
function globalContext() {
    return this;
}

// ê°ì²´ì˜ ë©”ì†Œë“œ
let obj = {
    name: "",
    method: function () {
        return this;
    }
};

// ìƒì„±ì í•¨ìˆ˜
function newObj() {
    this.a = 37;
}
let myobj = new newObj();

// í™”ì‚´í‘œ í•¨ìˆ˜
let arrowObj = {
    foo: () => this
};

console.log("í•¨ìˆ˜ì˜ ì „ì—­ í˜¸ì¶œ: " + (globalContext() === global)); // true
console.log("obj ê°ì²´ì˜ ë©”ì†Œë“œ: " + (obj.method() === obj)); // true
console.log("ìƒì„±ì í•¨ìˆ˜: " + (myobj.a === 37)); // true
console.log("ê°ì²´ë‚´ì˜ í™”ì‚´í‘œ í•¨ìˆ˜ " + (arrowObj.foo() === arrowObj)); // true
```

[ëª©ì°¨](#index)

---

### ì°¸ê³  ë¬¸í—Œ

[MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this)  
[ZeroCho](https://www.zerocho.com/category/JavaScript/post/5b0645cc7e3e36001bf676eb)
